<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-lg-6">
    <h2 [ngSwitch]="bookingModel.bookingPaymentType">
      <span *ngSwitchCase="BookingPaymentType.Cash">เงินสด</span>
      <span *ngSwitchCase="BookingPaymentType.Credit">งานขายรถ</span>
      <span *ngSwitchCase="BookingPaymentType.HierPurchase">เช่าซื้อ</span>
      <span *ngSwitchCase="BookingPaymentType.Leasing">ไฟแนนซ์</span>
    </h2>
    <ol class="breadcrumb">
      <li>
        <a href="/">หน้าแรก</a>
      </li>
      <li>
        <a>งานขายรถ</a>
      </li>
      <li>
        <a>รายละเอียด</a>
      </li>
    </ol>
  </div>
  <div class="col-lg-6 text-right pull-right">

  </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">

  <div class="row">
    <div class="col-sm-12 col-md-7">
      <div class="ibox">
        <div class="ibox-content form-horizontal" style=" border-top:none; line-height:30px;">
          <div class="row">
            <div class="col-xs-12 text-right">
              <h4 class="m-b-xs">เลขที่ใบขาย</h4>
              <h3 class="no-margins text-navy" style="font-weight: normal">{{saleModel.sellNo}}</h3>
            </div>
          </div>
          <h4>ข้อมูลการขาย &nbsp;
            <button type="button" class="btn btn-outline btn-xs btn-info" data-toggle="modal"
              data-target="#bookingDetial">
              <i class="fa fa-info-circle" aria-hidden="true"></i> ข้อมูลการจอง
            </button>
          </h4>
          <hr class="m-t-xs">
          <div class="row">
            <div class="col-xs-12">
              <label for="" class="col-md-3 control-label">ประเภทการขาย</label>
              <div class="col-md-9">
                <div [ngSwitch]="bookingModel.bookingPaymentType">
                  <span *ngSwitchCase="BookingPaymentType.Cash">เงินสด</span>
                  <span *ngSwitchCase="BookingPaymentType.Credit">งานขายรถ</span>
                  <span *ngSwitchCase="BookingPaymentType.HierPurchase">เช่าซื้อ</span>
                  <span *ngSwitchCase="BookingPaymentType.Leasing">ไฟแนนซ์</span>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <label for="" class="col-md-3 control-label">วันที่ทำรายการขาย</label>
              <div class="col-md-9">
                {{setLocalDate(saleModel.saleDate)}}
              </div>
            </div>
            <div class="col-xs-12">
              <label for="" class="col-md-3 control-label">พนักงานขาย</label>
              <div class="col-md-9" *ngIf="(SaleBy | async) as saleBy">
                {{saleBy.fullName}}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 ">
              <label for="" class="col-md-3 control-label">ชื่อจดทะเบียน</label>
              <div class="col-md-9" *ngIf="(Owner | async) as owner">
                {{owner.customerPrename}} {{owner.customerName}}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <label for="" class="col-md-3 control-label">เลขประจำตัวผู้เสียภาษี</label>
              <div class="col-md-9">
                {{contractModel.ownerTaxNo}}
              </div>
            </div>
            <div class="col-xs-12">
              <label for="" class="col-md-3 control-label">สถานประกอบการ</label>
              <div class="col-md-9" *ngIf="(Owner | async) as owner">
                {{contractModel.ownerAddress}}
                <span *ngIf="(OwnerAmphor | async) as amphor">
                  อำเภอ{{amphor.amphorName}}
                </span>
                <span *ngIf="(OwnerProvince | async) as province">
                  จังหวัด{{province.provinceNameTh}}
                </span>
                {{contractModel.ownerZipCode}}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <label for="" class="col-md-3 control-label">หมายเหตุการขาย</label>
              <div class="col-md-9">
                {{saleModel.remark}}
              </div>
            </div>
          </div>

          <br>
          <h4>รายละเอียดไฟแนนท์</h4>
          <hr class="m-t-xs">
          <div class="row">
            <div class="col-xs-12">
              <label for="" class="col-md-3 control-label">บริษัทไฟแนนซ์</label>
              <div class="col-md-9" *ngIf="(Owner | async) as owner">
                {{owner.customerPrename}} {{owner.customerName}}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <label for="" class="col-md-3 control-label">การชำระเงินดาวน์</label>
              <div class="col-md-9">เงินสด
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-md-6">
              <label for="" class="col-md-6 control-label">เงินดาวน์</label>
              <div class="col-md-6">
                {{saleModel.depositPrice}}
              </div>
            </div>
            <div class="col-xs-12 col-md-6">
              <label for="" class="col-md-6 control-label">ระยะเวลาผ่อนชำระ</label>
              <div class="col-md-6">
                {{saleModel.instalmentEnd}} งวด
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-md-6">
              <label for="" class="col-md-6 control-label">วันที่ชำระงวดแรก</label>
              <div class="col-md-6">
                {{saleModel.firstPayment}}
              </div>
            </div>
            <div class="col-xs-12 col-md-6">
              <label for="" class="col-md-6 control-label">งวดชำระทุกวันที่</label>
              <div class="col-md-6">
                {{saleModel.dueDate}} ของเดือน
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-md-6">
              <label for="" class="col-md-6 control-label">อัตราดอกเบี้ยต่อเดือน</label>
              <div class="col-md-6">{{saleModel.interest}}
              </div>
            </div>
            <div class="col-xs-12 col-md-6">
              <label for="" class="col-md-6 control-label">ค่างวด (รวม VAT)</label>
              <div class="col-md-6">{{saleModel.instalmentPrice}}
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-md-6">
              <label for="" class="col-md-6 control-label">ค่าส่งเสริมการขาย</label>
              <div class="col-md-6 text-navy">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-md-6">
              <label for="" class="col-md-6 control-label">การคืนเงินมัดจำ</label>
              <div class="col-md-6">
              </div>
            </div>
            <div class="col-xs-12 col-md-6">
              <label for="" class="col-md-6 control-label">จำนวนเงินมัดจำ</label>
              <div class="col-md-6 text-navy">{{bookingModel.bookDeposit}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-12 col-md-5">
      <div class="ibox ">
        <div class="ibox-title">
          <h5>รายงาน</h5>
          <div class="ibox-tools">
            <a class="collapse-link" (click)="iboxShow = !iboxShow">
              <i class="fa " [ngClass]="{'fa-chevron-up': iboxShow, 'fa-chevron-down': !iboxShow}"></i>
            </a>
          </div>
        </div>
        <div *ngIf="iboxShow" class="ibox-content table-responsive">
          <table class="table table-hover no-margins">
            <thead>
              <tr>
                <th>รายการ</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of listSlip">
                <td>
                  <span class="slip-no" [ngClass]="{'text-success': item.status, 'text-muted': !item.status}">
                    {{item.slipNo}} <span *ngIf="!item.status">(ยกเลิก)</span>
                  </span><br>
                  {{item.slipName}}
                </td>
                <td>
                  <button *ngIf="item.status" class="btn btn-xs btn-outline btn-primary">
                    <i class="fa fa-print" aria-hidden="true"></i>
                    พิมพ์
                  </button>
                </td>
                <td>
                  <button *ngIf="item.status" class="btn btn-xs btn-outline btn-danger" data-toggle="modal"
                    [attr.data-target]="'#'+item.modalId">
                    <i class="fa fa-ban" aria-hidden="true"></i>
                    ยกเลิก
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>
<app-booking-modal class="modal inmodal" id="bookingDetial" tabindex="-1" role="dialog" aria-hidden="true"
  style="display: none;"></app-booking-modal>

<app-form-cancel-com class="modal inmodal" [id]="comSlip.modalId" tabindex="-1" role="dialog" aria-hidden="true"
  style="display: none;" [title]="comSlip.title" [slipNo]="saleModel.comNo" [reasonDropdown]="reasonDropdown">
</app-form-cancel-com>

<app-form-inv-tax-rec class="modal inmodal" [id]="invTaxRecSlip.modalId" tabindex="-1" role="dialog" aria-hidden="true"
  style="display: none;" [title]="invTaxRecSlip.title" [slipNo]="saleModel.invTaxRecNo"
  [reasonDropdown]="reasonDropdown">
</app-form-inv-tax-rec>

<app-form-cancel-receipt class="modal inmodal" [id]="receiptSlip.modalId" tabindex="-1" role="dialog" aria-hidden="true"
  style="display: none;" [title]="receiptSlip.title" [slipNo]="saleModel.receiptNo" [reasonDropdown]="reasonDropdown">
</app-form-cancel-receipt>

<app-form-cancel-reserve-return class="modal inmodal" [id]="reserveReturnSlip.modalId" tabindex="-1" role="dialog"
  aria-hidden="true" style="display: none;" [title]="reserveReturnSlip.title" [slipNo]="saleModel.returnDepositNo"
  [reasonDropdown]="reasonDropdown"></app-form-cancel-reserve-return>

<app-form-cancel-sell class="modal inmodal" [id]="sellSlip.modalId" tabindex="-1" role="dialog" aria-hidden="true"
  style="display: none;" [title]="sellSlip.title" [slipNo]="saleModel.sellNo" [reasonDropdown]="reasonDropdown">
</app-form-cancel-sell>